<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Applying the basics</title>
    <link rel="icon" href="favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="visual.css">
</head>
<body>
<div class="article-container">
<h1>Spring Security: A Visual Overview.</h1>
<div class="custom-profile">
    <div style="align-items: center; display: flex; justify-content: flex-start;">
        <img src="BuildingThingWithCodelogoForLeetcode.jpg" alt="Your Image" width="44" height="44" style="margin-right: 10px;">
        <div style="text-align: left;">
            <p style="margin: 0; font-weight: bold;">Lars Martens</p>
            <p style="margin: 0; font-size: 0.9em; color: gray;">1 Maart, 2025</p>
        </div>
    </div>
</div>
<p>We will walk through the authentication flow in a Spring Boot application, guided by the following visual overview.</p>
</div>

<img src="img/visual/Full Security flow diagram1.png" alt="The http request">

<div class="article-container">
<p>The process begins when a user makes an HTTP request to a protected endpoint in our Spring Boot application.</p>
</div>

<img src="img/visual/Full Security flow diagram2.png" alt="the filter">

<div class="article-container">
<p>The request first encounters the SecurityFilterChain, which is a series of filters that process the request sequentially. The SecurityFilterChain is configured in our 
Spring Security configuration class.</p>
<p>For form-based login, the UsernamePasswordAuthenticationFilter intercepts the request and extracts the username and password. It then creates an Authentication object 
(specifically a UsernamePasswordAuthenticationToken) with status set to unauthenticated.</p>
</div>

<img src="img/visual/Full Security flow diagram3.png" alt="AuthenticationManager">

<div class="article-container">
<p>The filter delegates the authentication process to the AuthenticationManager. The most common implementation of AuthenticationManager is ProviderManager, which maintains
a list of AuthenticationProvider instances. The AuthenticationManager iterates through the available AuthenticationProviders until one can authenticate the request.</p>
</div>

<img src="img/visual/Full Security flow diagram4.png" alt="AuthenticationProvider">

<div class="article-container">
<p>The AuthenticationProvider that is typically used for username/password authentication is the DaoAuthenticationProvider. The DaoAuthenticationProvider is a Spring 
Security class that integrates authentication logic with a Data Access Object (DAO). This provider allows Spring Security to authenticate users by comparing the provided 
credentials (username/password) against the data stored in a persistent data source, usually a database.</p>
<p>Some other AuthenticationProviders are:<br>
- AnonymousAuthenticationProvider. Provides anonymous authentication for users who havenâ€™t logged in. Is used when anonymous() is enabled in security config.<br>
- JwtAuthenticationProvider (For JWT Authentication). Extracts and verifies JSON Web Tokens (JWTs). Common in stateless REST APIs.<br>
- OAuth2LoginAuthenticationProvider (For OAuth 2.0 Login). Handles authentication via OAuth 2.0 Authorization Code flow. Works with external providers like Google, 
Facebook, GitHub.</p>


