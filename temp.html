<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Applying the basics</title>
    <link rel="icon" href="favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="article-container">
<h1>Applying the basics.</h1>
<p>In the previous article we discussed the basic building blocks of Spring Security:<br>
- The Spring Security dependency.<br>
- A configuration class annotated with <code>@Configuration</code> and <code>@EnableWebSecurity</code>.<br>
- A <code>SecurityFilterChain</code>.<br>
- A <code>UserDetailsService</code>.<br>
- A <code>PasswordEncoder</code>.</p>
<p>In this article we are going to get hands on and use these building blocks to secure an application.</p>
<p>So, let's start and create our webapplication. Surf to the Spring Initializr page at: 
<a href="https://start.spring.io/">https://start.spring.io/</a> and use the initializer to create a Spring project.
I opted for Java and Maven, but you can pick whatever you prefer. The only dependency we are going to add is the Spring Web 
dependency. This is the only dependency we need to be able to create a webapplication.</p></div>
<img src="img/spring initializer.jpg" alt="Screenshot of Spring Initializr">
<div class="article-container">
<p>Save the zip-file, extract it to a folder of your choosing and import the project into your IDE of choice.</p>
<p>Now let's create a controller class in our application. I called this class <code>UserController</code> but you
can name it whatever you like. Give the class the following annotation <code>@RestController</code> and create 3 endpoints
in the class like I have done in the code example. Since we haven't added security to our application, these 3 endpoints are 
accessible to anyone. We will secure them soon. This is the full code of the class:</p>
<pre><code>
package com.spring.basics.SpringBasics.controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class UserController {
	
	@GetMapping("/no-security")
	public String openToAll() {
		return "Welcome to all";
	}
	
	@GetMapping("/some-security")
	public String openToSome() {
		return "Welcome to some";
	}
	
	@GetMapping("/full-security")
	public String openToOne() {
		return "Welcome to only one";
	}
}
</code></pre>
<p>The Spring Initializer has created an application class for you. Since I named my project <code>SpringBasics</code>, the name generated for my
application class is <code>SpringBasicsApplication</code>. Yours can have a different name. Find your application class and run it to start your Spring application.</p>
<p>Your webapplication also comes with an embedded web server that is started when you start the application. This web server will run your application on the default 
address <code>http://localhost:8080</code>. With your application running open your webbrowser and surf to the first endpoint we have create at the URL 
<code>http://localhost:8080/no-security</code>. You should see a screen like this:</p></div>
<img src="img/endpoint no security.jpg" alt="Screenshot of no security endpoint">
<div class="article-container">
<p>Our application has allowed access to the <code>/no-security</code> endpoint as indicated by the fact that we can open this page and we can see the "Welcome to all"
message. You can surf to the other two endpoints if you like and verify that they are also accessible. Just change the URL to match the other endpoint by replacing the
"/no-security"-part of the URL by "/some-security" or "/full-security".</p>
<p>So, let's look at our current situation. We have a web application running on the embedded server. This application has 3 endpoints that are accessible by anyone,
even unauthenticated users. We have zero security at the moment. Let's change that.</p>
<p>Let's add the Spring Security dependency to our application. This is the first and most import building block of Spring Security. In a Maven project, which is what I
use, this is done by adding the following code the to pom.xml file:</p>
<pre><code>
&lt;dependency&gt;
     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
     &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;
</code>
</pre>
<p>Now that we have added the security dependency, stop your application. In Eclipse you can do that by pressing the stop button in the console window:</p></div>
<img src="img/eclipse stop button.jpg" alt="Screenshot of eclipse stop button">
<div class="article-container">
</div>
</body>
